<!DOCTYPE HTML>
<html lang="ru">
 <head>
      <meta charset="utf-8">
    <title>bin</title>

  <style>
	body{
		font-size:15px;
		font-family: monospace;
		 background-image: url("https://kartinkin.net/pics/uploads/posts/2022-08/1659769494_9-kartinkin-net-p-fon-kosmicheskii-detskii-krasivo-9.jpg");
	}
	h2{
		text-align: center; 
		
	}
	.plus{
    	text-align: center; 
    	padding: 8px 10px; 
    	border: solid 1px #777777; 
    	color: #7777777; 
    	background:#ffffff;
    	tansition: all .3s linear;
    	-webkit-transition: all .3s linear;
    	-moz-transition: all .3s linear; 	
    	text-transform: uppercase;
    }
    .plus:hover {
    	color: #fff;
    	background-color: #8E8EF0;
    	tansition: all .3s linear;
    	-webkit-transition: all .3s linear;
    	-moz-transition: all .3s linear; 
    }
	.minus{
    	text-align: center; 
    	padding: 8px 10px; 
    	border: solid 1px #777777; 
    	color: #7777777; 
    	background:#ffffff;
    	tansition: all .3s linear;
    	-webkit-transition: all .3s linear;
    	-moz-transition: all .3s linear; 	
    	text-transform: uppercase;
    }
    .minus:hover {
    	color: #fff;
    	background-color: #8E8EF0;
    	tansition: all .3s linear;
    	-webkit-transition: all .3s linear;
    	-moz-transition: all .3s linear; 
    }
	.bin{
		
		float: left;
		margin-top:50px;
		margin-left:50px;
		text-align:center;
		padding:5px;
		
		border-radius:5px;
	}
	.bag{
		padding:5px;
		border-radius:5px;
		
	}
	.bin:hover {
		 box-shadow: 8px 10px 5px 2px rgba(0, 0, 255, .2);
	}
	.bag:hover {
		 box-shadow: 8px 10px 5px 2px rgba(0, 0, 255, .2);
	}
	
  </style>
 </head> 
<body>
	<div class="bag">
		<h2>Your bag:</h2>
	</div>
	<div class="bin">
		<img src="https://i.dummyjson.com/data/products/2/1.jpg" alt="iPhone X" width="190" height="180" >
		<p>iPhone X<p>
		<button class="plus" data-id="2">+</button>
		<button class="minus" data-id="2">-</button>
	</div>
	<div class="bin">
		<img src="https://i.dummyjson.com/data/products/1/1.jpg" alt="iPhone 9" width="190" height="180">
		<p>iPhone 9<p>
		<button class="plus" data-id="1">+</button>
		<button class="minus" data-id="1">-</button>
	</div>
</body>	
	<script>
		
		let bag={
			"2" : {
				"имя" : "iPhone X",
				"стоимость" : 899,
				"количество" : 1
			},
			"1" : {
				"имя" : "iPhone 9",
				"стоимость" : 549,
				"количество" : 1
			},
		}
		document.onclick = event => {
			if (event.target.classList.contains('plus')){
				plusFunction(event.target.dataset.id);
				addFunction(event.target.dataset.id);
			}
			if (event.target.classList.contains('minus')){
				minusFunction(event.target.dataset.id);
				delFunction(event.target.dataset.id);
			}
		}
			
		const plusFunction = id =>{
			bag[id]["количество"]++;
			renderCart();
			
		}
		
		const minusFunction = id =>{
			if (bag[id]["количество"] - 1 == 0){
				deleteFunction(id);
				return true;
			}
			bag[id]["количество"]--;
			renderCart();
			
			
		}
		
		const deleteFunction = id => {
			delete bag[id];
			renderCart();
			
		}
		
		const renderCart = () =>{
			console.log(bag);
		}
		
		const addFunction = id =>{
			bag[id]["стоимость"] *= 2;
			renderCart();
		}
		
		const delFunction = id =>{
			if (bag[id]["стоимость"] - ["стоимость"] == 0){
				deleteFunction(id);
				return true;
			}
			bag[id]["стоимость"] /= 2 ;
			renderCart();
		}
		
		renderCart();
	
	fetch('https://dummyjson.com/products/1')
	.then(res => res.json())
	.then(console.log);

	fetch('https://dummyjson.com/products/2')
	.then(res => res.json())
	.then(console.log);
	
	</script>

</html>
